<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio Management</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    <style>
        :root {
            --primary-color: #3B82F6;
            --secondary-color: #36CFC9;
            --text-primary: #1D2129;
            --text-secondary: #4E5969;
            --text-tertiary: #86909C;
            --bg-light: #F2F3F5;
            --bg-white: #FFFFFF;
            --danger: #F53F3F;
            --success: #00B42A;
            --warning: #FF7D00;
            --card-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            --ins-gray: #F8F9FA;
            --top-nav-gray: #353a3e;
            --dropdown-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
            --nav-text: #E5E7EB;
            --nav-text-hover: #FFFFFF;
            --divider: #E9ECEF;
        }
        
        body {
            font-family: 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background-color: var(--ins-gray);
            color: var(--text-primary);
            line-height: 1.5;
            padding-top: 60px;
            margin: 0;
        }
        
        /* 顶部导航栏样式 */
        .top-nav {
            background-color: var(--top-nav-gray);
            box-shadow: var(--card-shadow);
            padding: 0.5rem 1.5rem;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 60px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .logo h1 {
            font-size: 1.25rem;
            font-weight: 600;
            margin: 0;
            color: var(--nav-text-hover);
        }
        
        /* 导航链接容器 */
        .nav-links {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            margin: 0 0.5rem;
            flex: 1;
            overflow-x: auto;
            white-space: nowrap;
            padding-bottom: 4px;
        }
        
        .nav-links::-webkit-scrollbar {
            display: none;
        }
        
        .nav-item {
            padding: 0.5rem 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--nav-text);
            text-decoration: none;
            transition: all 0.2s;
            border-radius: 4px;
            font-size: 0.9rem;
        }
        
        .nav-item:hover, .nav-item.active {
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--nav-text-hover);
        }
        
        .nav-item i {
            width: 1.1rem;
            text-align: center;
        }
        
        /* 搜索框 */
        .header-search-container {
            position: relative;
            width: 280px;
        }
        
        @media (max-width: 768px) {
            .header-search-container {
                width: 100%;
                margin-top: 1rem;
            }
        }
        
        .header-search-input {
            width: 100%;
            padding: 0.45rem 0.75rem 0.45rem 2rem;
            border: 1px solid #CED4DA;
            border-radius: 6px;
            font-size: 0.9rem;
            transition: all 0.2s;
            background-color: var(--bg-white);
        }
        
        .header-search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(22, 93, 255, 0.1);
        }
        
        .header-search-icon {
            position: absolute;
            left: 0.6rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-tertiary);
            font-size: 0.95rem;
        }
        
        /* 用户信息 */
        .user-menu {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            position: relative;
            cursor: pointer;
        }
        
        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }
        
        .user-name {
            font-size: 0.9rem;
            font-weight: 500;
            display: none;
            color: var(--nav-text);
        }
        
        @media (min-width: 992px) {
            .user-name {
                display: block;
            }
        }
        
        .user-menu i.fas.fa-chevron-down {
            color: var(--nav-text);
        }
        
        .user-action {
            color: var(--nav-text);
            cursor: pointer;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            transition: all 0.2s;
        }
        
        .user-action:hover {
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--nav-text-hover);
        }
        
        /* 用户下拉菜单 */
        .user-dropdown {
            position: absolute;
            top: calc(100% + 8px);
            right: 0;
            background-color: var(--bg-white);
            border-radius: 8px;
            box-shadow: var(--dropdown-shadow);
            width: 200px;
            padding: 0.5rem 0;
            margin: 0;
            list-style: none;
            opacity: 0;
            visibility: hidden;
            transform: translateY(5px);
            transition: all 0.2s ease;
            z-index: 1001;
        }
        
        .user-menu:hover .user-dropdown {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        
        .user-dropdown::before {
            content: '';
            position: absolute;
            top: -5px;
            right: 15px;
            width: 10px;
            height: 10px;
            background-color: var(--bg-white);
            transform: rotate(45deg);
            box-shadow: -2px -2px 3px rgba(0, 0, 0, 0.05);
        }
        
        .user-dropdown li {
            margin: 0;
        }
        
        .user-dropdown a {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.65rem 1rem;
            color: var(--text-primary);
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.2s;
        }
        
        .user-dropdown a:hover {
            background-color: var(--ins-gray);
            color: var(--primary-color);
        }
        
        .user-dropdown a i {
            width: 1rem;
            text-align: center;
        }
        
        /* 主要内容区域布局 */
        .content-wrapper {
            display: flex;
            gap: 1.25rem;
            padding: 1.25rem;
            max-width: 100%;
            box-sizing: border-box;
        }
        
        /* 左侧边栏 */
        .sidebar {
            width: 280px;
            display: flex;
            flex-direction: column;
            gap: 1.25rem;
            flex-shrink: 0;
        }
        
        /* 账户概览样式 - 移除背景色 */
        .account-overview {
            display: flex;
            flex-direction: column;
        }
        
        /* 营收摘要 - 移除背景色 */
        .revenue-summary {
            /* 移除背景色 */
            border-radius: 6px;
            padding: 0.75rem;
        }
        
        .revenue-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }
        
        .revenue-item:last-child {
            margin-bottom: 0;
            padding-top: 0.5rem;
            margin-top: 0.5rem;
            border-top: 1px dashed var(--text-tertiary);
            font-weight: 600;
        }
        
        /* 市场动态卡片样式 */
        .market-movers-card {
            display: flex;
            flex-direction: column;
        }
        
        .market-date {
            color: var(--text-tertiary);
            font-size: 0.85rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }
        
        .market-date i {
            font-size: 0.8rem;
        }
        
        /* 大盘指数部分 - 与个股标题样式统一 */
        .major-indices {
            border-radius: 6px;
            padding: 0.75rem;
            margin-bottom: 1rem;
        }
        
        /* 大盘指数标题 - 添加图标并居中显示，与个股标题风格统一 */
        .indices-title {
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 0.3rem;
            justify-content: center;
        }
        
        .indices-title::before {
            content: '';
            flex: 1;
            height: 1px;
            background-color: var(--bg-light);
        }
        
        .indices-title::after {
            content: '';
            flex: 1;
            height: 1px;
            background-color: var(--bg-light);
        }
        
        .index-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }
        
        .index-item:last-child {
            margin-bottom: 0;
        }
        
        .index-name {
            font-weight: 500;
        }
        
        .index-value {
            color: var(--text-tertiary);
            font-size: 0.85rem;
            margin-right: 0.5rem;
        }
        
        .index-change {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            font-weight: 500;
        }
        
        /* 个股区域标题 */
        .stocks-section-header {
            font-size: 0.9rem;
            font-weight: 600;
            margin: 0 0 0.75rem 0;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }
        
        .stocks-section-header::before {
            content: '';
            flex: 1;
            height: 1px;
            background-color: var(--bg-light);
        }
        
        .stocks-section-header::after {
            content: '';
            flex: 1;
            height: 1px;
            background-color: var(--bg-light);
        }
        
        .movers-container {
            flex-grow: 1;
            min-height: 300px;
        }
        
        .mover-page {
            display: none;
        }
        
        .mover-page.active {
            display: block;
        }
        
        .pagination {
            display: flex;
            justify-content: flex-end;
            margin-top: 1rem;
            gap: 0.5rem;
        }
        
        .page-btn {
            width: 28px;
            height: 28px;
            border-radius: 4px;
            border: 1px solid var(--bg-light);
            background-color: var(--bg-white);
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .page-btn:hover, .page-btn.active {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        /* 主内容区 */
        .main-content {
            flex: 1;
        }
        
        .header {
            margin-bottom: 1.25rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .page-title {
            font-size: 1.65rem;
            font-weight: 600;
            margin: 0;
        }
        
        .card {
            background-color: var(--bg-white);
            border-radius: 8px;
            box-shadow: var(--card-shadow);
            border: none;
            overflow: hidden;
            transition: transform 0.2s;
        }
        
        .card:hover {
            transform: translateY(-2px);
        }
        
        .card-header {
            padding: 0.85rem 1.25rem;
            border-bottom: 1px solid var(--bg-light);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .card-title {
            font-size: 1.05rem;
            font-weight: 600;
            margin: 0;
        }
        
        .card-body {
            padding: 1.25rem;
        }
        
        .net-worth {
            font-size: 1.85rem;
            font-weight: 700;
            margin: 0.5rem 0;
        }
        
        .change-positive {
            color: var(--success);
            font-weight: 500;
        }
        
        .change-negative {
            color: var(--danger);
            font-weight: 500;
        }
        
        .asset-distribution {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin-top: 0.75rem;
        }
        
        .asset-item {
            flex: 1;
            min-width: 120px;
            padding: 0.75rem;
            background-color: var(--bg-light);
            border-radius: 6px;
        }
        
        .asset-value {
            font-size: 1.15rem;
            font-weight: 600;
            margin: 0.25rem 0;
        }
        
        .asset-label {
            color: var(--text-secondary);
            font-size: 0.825rem;
        }
        
        .market-movers {
            margin-top: 0.5rem;
        }
        
        .mover-item {
            display: flex;
            justify-content: space-between;
            padding: 0.65rem 0;
            border-bottom: 1px solid var(--bg-light);
        }
        
        .mover-item:last-child {
            border-bottom: none;
        }
        
        .mover-info {
            display: flex;
            flex-direction: column;
        }
        
        .mover-name {
            font-weight: 500;
            font-size: 0.9rem;
        }
        
        .mover-ticker {
            color: var(--text-tertiary);
            font-size: 0.8rem;
        }
        
        .mover-change {
            font-weight: 500;
            font-size: 0.9rem;
        }
        
        .chart-container {
            position: relative;
            height: 230px;
            width: 100%;
        }
        
        /* 主内容区两列布局 */
        .main-cards {
            display: flex;
            gap: 1.25rem;
            margin-top: 1.25rem;
        }
        
        .main-card-item {
            flex: 1;
            min-width: 300px;
        }
        
        /* 响应式设计调整 */
        @media (max-width: 1199px) {
            .sidebar {
                width: 250px;
            }
        }
        
        @media (max-width: 992px) {
            .main-cards {
                flex-direction: column;
            }
            
            .nav-item span {
                display: none;
            }
            
            .nav-item {
                padding: 0.5rem;
            }
            
            .nav-item i {
                margin-right: 0;
            }
        }
        
        @media (max-width: 768px) {
            .content-wrapper {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container-fluid p-0">
        <!-- 顶部导航栏 -->
        <div class="top-nav">
            <div class="logo">
                <i class="fas fa-university fa-2x" style="color: var(--nav-text-hover);"></i>
                <h1>Portfolio Pro</h1>
            </div>
            
            <!-- 导航链接 -->
            <div class="nav-links">
                <a href="index.html" class="nav-item active">
                    <i class="fas fa-home"></i>
                    <span>Dashboard</span>
                </a>
                <a href="cash.html" class="nav-item">
                    <i class="fas fa-wallet"></i>
                    <span>Cash</span>
                </a>
                <a href="stocks.html" class="nav-item">
                    <i class="fas fa-chart-line"></i>
                    <span>Stocks</span>
                </a>
                <a href="bonds.html" class="nav-item">
                    <i class="fas fa-certificate"></i>
                    <span>Bonds</span>
                </a>
                <a href="transactions.html" class="nav-item">
                    <i class="fas fa-exchange-alt"></i>
                    <span>Transactions</span>
                </a>
            </div>
            
            <!-- 用户信息与设置合并 -->
            <div class="user-menu">
                <div class="user-avatar" title="John Doe">JD</div>
                <span class="user-name">John Doe</span>
                <i class="fas fa-chevron-down" style="font-size: 0.75rem;"></i>
                
                <!-- 用户下拉菜单 -->
                <ul class="user-dropdown">
                    <li><a href="#"><i class="fas fa-user"></i> Profile</a></li>
                    <li><a href="settings.html"><i class="fas fa-cog"></i> Settings</a></li>
                    <li><a href="#"><i class="fas fa-info-circle"></i> Info</a></li>
                    <li style="border-top: 1px solid var(--bg-light); margin-top: 0.25rem;"><a href="#"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
                </ul>
            </div>
        </div>
        
        <!-- 内容区域 -->
        <div class="content-wrapper">
            <!-- 左侧边栏 -->
            <div class="sidebar">
                <!-- 账户概览 - 无背景色 -->
                <div class="card account-overview">
                    <div class="card-header">
                        <h3 class="card-title">Account Overview</h3>
                    </div>
                    <div class="card-body">
                        <div class="revenue-summary">
                            <div class="revenue-item">
                                <span>Total Income</span>
                                <span class="change-positive">$42,500</span>
                            </div>
                            <div class="revenue-item">
                                <span>Total Expenses</span>
                                <span class="change-negative">$28,300</span>
                            </div>
                            <div class="revenue-item">
                                <span>Net Revenue</span>
                                <span class="change-positive">$14,200</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 市场动态 - 大盘指数添加图标并居中 -->
                <div class="card market-movers-card">
                    <div class="card-header">
                        <h3 class="card-title">Market Movers</h3>
                        <span class="market-date" id="current-date">
                            <i class="fas fa-calendar-alt"></i>
                        </span>
                    </div>
                    <div class="card-body market-movers">
                        <!-- 大盘指数部分 -->
                        <div class="major-indices">
                            <div class="indices-title">
                                <i class="fas fa-chart-pie" style="font-size: 0.8rem;"></i>
                                <span>Major Indices</span>
                            </div>
                            <div class="index-item">
                                <span class="index-name">NASDAQ</span>
                                <div class="index-change change-positive">
                                    <span>📈</span>
                                    <span class="index-value">14,874.46</span>
                                    <span>+1.23%</span>
                                </div>
                            </div>
                            <div class="index-item">
                                <span class="index-name">Hang Seng Index</span>
                                <div class="index-change change-negative">
                                    <span>📉</span>
                                    <span class="index-value">25,347.82</span>
                                    <span>-0.87%</span>
                                </div>
                            </div>
                            <div class="index-item">
                                <span class="index-name">Dow Jones</span>
                                <div class="index-change change-positive">
                                    <span>📈</span>
                                    <span class="index-value">35,678.21</span>
                                    <span>+0.54%</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 个股区域标题 -->
                        <div class="stocks-section-header">
                            <i class="fas fa-layer-group" style="font-size: 0.8rem;"></i>
                            <span>Individual Stocks</span>
                        </div>
                        
                        <div class="movers-container">
                            <!-- 第一页 - 6个股票 -->
                            <div class="mover-page active" data-page="1">
                                <div class="mover-item">
                                    <div class="mover-info">
                                        <span class="mover-name">Apple Inc.</span>
                                        <span class="mover-ticker">AAPL</span>
                                    </div>
                                    <div class="mover-change change-positive">+2.45%</div>
                                </div>
                                <div class="mover-item">
                                    <div class="mover-info">
                                        <span class="mover-name">Microsoft Corp</span>
                                        <span class="mover-ticker">MSFT</span>
                                    </div>
                                    <div class="mover-change change-positive">+1.82%</div>
                                </div>
                                <div class="mover-item">
                                    <div class="mover-info">
                                        <span class="mover-name">Amazon.com Inc</span>
                                        <span class="mover-ticker">AMZN</span>
                                    </div>
                                    <div class="mover-change change-negative">-0.78%</div>
                                </div>
                                <div class="mover-item">
                                    <div class="mover-info">
                                        <span class="mover-name">Tesla Inc</span>
                                        <span class="mover-ticker">TSLA</span>
                                    </div>
                                    <div class="mover-change change-positive">+3.21%</div>
                                </div>
                                <div class="mover-item">
                                    <div class="mover-info">
                                        <span class="mover-name">Alphabet Inc</span>
                                        <span class="mover-ticker">GOOGL</span>
                                    </div>
                                    <div class="mover-change change-negative">-1.15%</div>
                                </div>
                                <div class="mover-item">
                                    <div class="mover-info">
                                        <span class="mover-name">Meta Platforms</span>
                                        <span class="mover-ticker">META</span>
                                    </div>
                                    <div class="mover-change change-positive">+0.92%</div>
                                </div>
                            </div>
                            
                            <!-- 第二页 - 4个股票 -->
                            <div class="mover-page" data-page="2">
                                <div class="mover-item">
                                    <div class="mover-info">
                                        <span class="mover-name">NVIDIA Corp</span>
                                        <span class="mover-ticker">NVDA</span>
                                    </div>
                                    <div class="mover-change change-positive">+4.67%</div>
                                </div>
                                <div class="mover-item">
                                    <div class="mover-info">
                                        <span class="mover-name">Berkshire Hathaway</span>
                                        <span class="mover-ticker">BRK.B</span>
                                    </div>
                                    <div class="mover-change change-positive">+0.53%</div>
                                </div>
                                <div class="mover-item">
                                    <div class="mover-info">
                                        <span class="mover-name">Johnson & Johnson</span>
                                        <span class="mover-ticker">JNJ</span>
                                    </div>
                                    <div class="mover-change change-negative">-0.32%</div>
                                </div>
                                <div class="mover-item">
                                    <div class="mover-info">
                                        <span class="mover-name">JPMorgan Chase</span>
                                        <span class="mover-ticker">JPM</span>
                                    </div>
                                    <div class="mover-change change-positive">+1.28%</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 分页按钮 -->
                        <div class="pagination">
                            <button class="page-btn active" data-page="1">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <button class="page-btn" data-page="2">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 主内容区 -->
            <div class="main-content">
                <div class="header">
                    <h2 class="page-title">Financial Dashboard</h2>
                    
                    <!-- 搜索框 -->
                    <div class="header-search-container">
                        <i class="fas fa-search header-search-icon"></i>
                        <input type="text" class="header-search-input" placeholder="Search stocks...">
                    </div>
                </div>
                
                <!-- 净值卡片 -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h3 class="card-title">Net Worth</h3>
                        <div>
                            <select class="form-select form-select-sm" id="time-period-select">
                                <option value="1M">1M</option>
                                <option value="3M">3M</option>
                                <option value="6M" selected>6M</option>
                                <option value="1Y">1Y</option>
                                <option value="All">All</option>
                            </select>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="net-worth">$247,850.00</div>
                        <div class="change-positive">
                            <i class="fas fa-arrow-up"></i> 4.3% from last month
                        </div>
                        <div class="chart-container mt-4">
                            <canvas id="net-worth-chart"></canvas>
                        </div>
                    </div>
                </div>
                
                <!-- 两列布局: 现金流 & 资产配置 -->
                <div class="main-cards">
                    <!-- 现金流 -->
                    <div class="main-card-item">
                        <div class="card h-100">
                            <div class="card-header">
                                <h3 class="card-title">Cash Flow</h3>
                            </div>
                            <div class="card-body">
                                <div class="chart-container">
                                    <canvas id="cash-flow-chart"></canvas>
                                </div>
                                <div class="asset-distribution mt-3">
                                    <div class="asset-item">
                                        <div class="asset-label">Total Income</div>
                                        <div class="asset-value">$42,500</div>
                                    </div>
                                    <div class="asset-item">
                                        <div class="asset-label">Total Expenses</div>
                                        <div class="asset-value">$28,300</div>
                                    </div>
                                    <div class="asset-item">
                                        <div class="asset-label">Net Flow</div>
                                        <div class="asset-value change-positive">$14,200</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 资产配置 -->
                    <div class="main-card-item">
                        <div class="card h-100">
                            <div class="card-header">
                                <h3 class="card-title">Asset Allocation</h3>
                            </div>
                            <div class="card-body">
                                <div class="chart-container">
                                    <canvas id="asset-allocation-chart"></canvas>
                                </div>
                                <div class="asset-distribution mt-3">
                                    <div class="asset-item">
                                        <div class="asset-label">Stocks</div>
                                        <div class="asset-value">$125,600</div>
                                    </div>
                                    <div class="asset-item">
                                        <div class="asset-label">Bonds</div>
                                        <div class="asset-value">$75,300</div>
                                    </div>
                                    <div class="asset-item">
                                        <div class="asset-label">Cash</div>
                                        <div class="asset-value">$46,950</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    
    <script>
        // 页面加载完成后执行
        document.addEventListener('DOMContentLoaded', function() {
            // 显示当前日期（带小日历图标）
            const dateElement = document.getElementById('current-date');
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            const currentDate = new Date();
            dateElement.innerHTML = `<i class="fas fa-calendar-alt"></i> ${currentDate.toLocaleDateString('en-US', options)}`;
            
            // 股票翻页功能
            const pageButtons = document.querySelectorAll('.page-btn');
            const moverPages = document.querySelectorAll('.mover-page');
            
            pageButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const pageNum = this.getAttribute('data-page');
                    
                    // 更新按钮状态
                    pageButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    // 更新显示的页面
                    moverPages.forEach(page => {
                        page.classList.remove('active');
                        if (page.getAttribute('data-page') === pageNum) {
                            page.classList.add('active');
                        }
                    });
                });
            });

            // 图表初始化代码
            if (typeof Chart !== 'undefined') {
                // 1. 净值图表
                const netWorthCtx = document.getElementById('net-worth-chart');
                if (netWorthCtx) {
                    window.netWorthChart = new Chart(netWorthCtx.getContext('2d'), {
                        type: 'line',
                        data: {
                            labels: ['Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
                            datasets: [{
                                label: 'Net Worth',
                                data: [225000, 228000, 231000, 235000, 242000, 247850],
                                borderColor: '#165DFF',
                                backgroundColor: 'rgba(22, 93, 255, 0.1)',
                                tension: 0.4,
                                fill: true
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: { legend: { display: false } },
                            scales: {
                                y: {
                                    beginAtZero: false,
                                    ticks: { callback: value => `$${(value/1000).toFixed(1)}k` }
                                }
                            }
                        }
                    });
                }

                // 2. 现金流图表
                const cashFlowCtx = document.getElementById('cash-flow-chart');
                if (cashFlowCtx) {
                    window.cashFlowChart = new Chart(cashFlowCtx.getContext('2d'), {
                        type: 'bar',
                        data: {
                            labels: ['Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
                            datasets: [
                                { 
                                    label: 'Income', 
                                    data: [6800, 7200, 7000, 7500, 6900, 7100], 
                                    backgroundColor: '#00B42A' 
                                },
                                { 
                                    label: 'Expenses', 
                                    data: [4500, 4900, 4700, 5200, 4800, 4200], 
                                    backgroundColor: '#F53F3F' 
                                }
                            ]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: { 
                                legend: { position: 'top' } 
                            },
                            scales: { 
                                y: { 
                                    ticks: { callback: value => `$${value}` } 
                                } 
                            }
                        }
                    });
                }

                // 3. 资产分配图表
                const assetAllocationCtx = document.getElementById('asset-allocation-chart');
                if (assetAllocationCtx) {
                    window.assetChart = new Chart(assetAllocationCtx.getContext('2d'), {
                        type: 'doughnut',
                        data: {
                            labels: ['Stocks', 'Bonds', 'Cash'],
                            datasets: [{
                                data: [125600, 75300, 46950],
                                backgroundColor: ['#165DFF', '#36CFC9', '#722ED1'],
                                borderWidth: 0
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: { legend: { position: 'bottom' } },
                            cutout: '65%'
                        }
                    });
                }
            }

            // 时间周期切换事件
            document.getElementById('time-period-select').addEventListener('change', function(e) {
                if (window.netWorthChart) {
                    updateNetWorthChart(window.netWorthChart, e.target.value);
                }
            });

            // 搜索功能
            const searchInput = document.querySelector('.header-search-input');
            searchInput.addEventListener('keyup', function(e) {
                const searchTerm = e.target.value.toLowerCase().trim();
                console.log('Searching for:', searchTerm);
            });

            // 用户下拉菜单交互
            const userMenu = document.querySelector('.user-menu');
            userMenu.addEventListener('click', function(e) {
                const dropdown = this.querySelector('.user-dropdown');
                if (dropdown.style.opacity === '1') {
                    dropdown.style.opacity = '0';
                    dropdown.style.visibility = 'hidden';
                    dropdown.style.transform = 'translateY(5px)';
                } else {
                    dropdown.style.opacity = '1';
                    dropdown.style.visibility = 'visible';
                    dropdown.style.transform = 'translateY(0)';
                }
                e.stopPropagation();
            });

            // 点击页面其他地方关闭下拉菜单
            document.addEventListener('click', function() {
                const dropdown = document.querySelector('.user-dropdown');
                dropdown.style.opacity = '0';
                dropdown.style.visibility = 'hidden';
                dropdown.style.transform = 'translateY(5px)';
            });
        });

        // 更新净值图表数据的函数
        function updateNetWorthChart(chart, period) {
            let labels, data;
            
            switch(period) {
                case '1M':
                    labels = ['Jul 1', 'Jul 8', 'Jul 15', 'Jul 22', 'Jul 29'];
                    data = [245200, 244800, 246100, 247300, 247850];
                    break;
                case '3M':
                    labels = ['May', 'Jun', 'Jul'];
                    data = [235000, 242000, 247850];
                    break;
                case '6M':
                    labels = ['Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'];
                    data = [225000, 228000, 231000, 235000, 242000, 247850];
                    break;
                case '1Y':
                    labels = ['Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'];
                    data = [205000, 208000, 212000, 215000, 218000, 220000, 225000, 228000, 231000, 235000, 242000, 247850];
                    break;
                case 'All':
                    labels = ['2020', '2021', '2022', '2023', '2024'];
                    data = [150000, 180000, 200000, 220000, 247850];
                    break;
                default:
                    return;
            }
            
            chart.data.labels = labels;
            chart.data.datasets[0].data = data;
            chart.update();
        }
    </script>
</body>
</html>